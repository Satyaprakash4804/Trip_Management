{% extends "base.html" %}
{% block content %}

<h2 style="color:#1a237e;">Uploaded Photos</h2>

<style>
    .upload-card {
        width: 280px;
        background: white;
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        margin: 15px;
        display: inline-block;
        vertical-align: top;
    }

    .upload-card img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-radius: 10px;
    }
</style>

<div id="uploadContainer"></div>

<script>
function loadUploads() {
    fetch("/api/master/uploads")
    .then(r => r.json())
    .then(d => {
        let container = document.getElementById("uploadContainer");
        container.innerHTML = "";

        d.data.forEach(u => {
            container.innerHTML += `
                <div class="upload-card">
                    <img src="${u.file_path}" alt="photo">
                    <div class="desc">${u.description}</div>
                    <small>Uploaded by: ${u.uploaded_by_role}</small><br>
                    <small>Time: ${u.timestamp}</small>
                </div>
            `;
        });
    });
}

loadUploads();
</script>

{% endblock %}
